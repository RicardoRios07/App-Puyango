import{r as o,u as f,a as A,c as E,j as e,B as F,b as u,T as t,d as L}from"./index-FoqrW9jB.js";import{B as R}from"./index-iGBAAHT3.js";import{u as U,I as g,a as S,V as k,L as w,S as B}from"./useSnackbar-8TGwfSRJ.js";import{B as C}from"./index-Whb-GpAT.js";import{I as O}from"./IconButton-ghYDgOj1.js";import{V as T}from"./Visibility-6mA_l3Ag.js";import"./Paper--jNQ-MWV.js";const W=()=>{const[a,x]=o.useState({email:"",password:""}),[s,b]=o.useState(!1),c=f(),{data:n,error:i,loading:N,executeFetch:m}=A(),{setSession:d}=E(),{isOpen:v,handleClose:D,handleOpen:l}=U(),[j,y]=o.useState(""),[h,I]=o.useState("success");o.useEffect(()=>{n&&n.code===200?(d(n.data),console.log("token ==========",n.data.token),c("/inicio")):i&&(y(i.message||"Ocurrió un error durante el inicio de sesión."),I("error"),l())},[n,i,c,l,d]);const p=r=>{x({...a,[r.target.name]:r.target.value})},P=()=>{b(!s)},V=async r=>{r.preventDefault(),m({endPoint:"auth/login",method:"POST",data:a}),console.log("Fetching data...",m)};return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(F,{open:N},void 0,!1,{fileName:"/Users/ricardo/Documents/Reto Innova/App-Puyango/src/content/pages/Login/Form/index.jsx",lineNumber:52,columnNumber:9},void 0),e.jsxDEV(u,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:4,borderRadius:1,maxWidth:400,margin:"auto"},children:[e.jsxDEV(t,{variant:"h2",component:"h1",gutterBottom:!0,children:"Iniciar sesión"},void 0,!1,{fileName:"/Users/ricardo/Documents/Reto Innova/App-Puyango/src/content/pages/Login/Form/index.jsx",lineNumber:65,columnNumber:13},void 0),e.jsxDEV(t,{variant:"subtitle1",gutterBottom:!0,children:"Agrega tu información a continuación"},void 0,!1,{fileName:"/Users/ricardo/Documents/Reto Innova/App-Puyango/src/content/pages/Login/Form/index.jsx",lineNumber:68,columnNumber:13},void 0),e.jsxDEV(u,{component:"form",onSubmit:V,sx:{width:"100%",mt:1},children:[e.jsxDEV(g,{label:"Correo electrónico",type:"email",value:a.email,onChange:p,name:"email",margin:"normal",fullWidth:!0},void 0,!1,{fileName:"/Users/ricardo/Documents/Reto Innova/App-Puyango/src/content/pages/Login/Form/index.jsx",lineNumber:76,columnNumber:17},void 0),e.jsxDEV(g,{label:"Contraseña",type:s?"text":"password",value:a.password,onChange:p,name:"password",margin:"normal",fullWidth:!0,endAdornment:e.jsxDEV(S,{position:"end",children:e.jsxDEV(L,{title:s?"Ocultar Contraseña":"Mostrar contraseña",arrow:!0,children:e.jsxDEV(O,{"aria-label":"toggle password visibility",onClick:P,children:s?e.jsxDEV(T,{color:"primary"},void 0,!1,{fileName:"/Users/ricardo/Documents/Reto Innova/App-Puyango/src/content/pages/Login/Form/index.jsx",lineNumber:100,columnNumber:49},void 0):e.jsxDEV(k,{color:"primary"},void 0,!1,{fileName:"/Users/ricardo/Documents/Reto Innova/App-Puyango/src/content/pages/Login/Form/index.jsx",lineNumber:100,columnNumber:82},void 0)},void 0,!1,{fileName:"/Users/ricardo/Documents/Reto Innova/App-Puyango/src/content/pages/Login/Form/index.jsx",lineNumber:96,columnNumber:29},void 0)},void 0,!1,{fileName:"/Users/ricardo/Documents/Reto Innova/App-Puyango/src/content/pages/Login/Form/index.jsx",lineNumber:95,columnNumber:29},void 0)},void 0,!1,{fileName:"/Users/ricardo/Documents/Reto Innova/App-Puyango/src/content/pages/Login/Form/index.jsx",lineNumber:94,columnNumber:25},void 0)},void 0,!1,{fileName:"/Users/ricardo/Documents/Reto Innova/App-Puyango/src/content/pages/Login/Form/index.jsx",lineNumber:85,columnNumber:17},void 0),e.jsxDEV(C,{text:"Siguiente",type:"submit",color:"primary",variant:"contained",sx:{mt:3,mb:2,py:1},fullWidth:!0},void 0,!1,{fileName:"/Users/ricardo/Documents/Reto Innova/App-Puyango/src/content/pages/Login/Form/index.jsx",lineNumber:106,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/ricardo/Documents/Reto Innova/App-Puyango/src/content/pages/Login/Form/index.jsx",lineNumber:71,columnNumber:13},void 0),e.jsxDEV(t,{variant:"body2",children:["Aún no tienes cuenta? ",e.jsxDEV(w,{href:"/register",variant:"body2",children:"Ingresa aquí"},void 0,!1,{fileName:"/Users/ricardo/Documents/Reto Innova/App-Puyango/src/content/pages/Login/Form/index.jsx",lineNumber:117,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/ricardo/Documents/Reto Innova/App-Puyango/src/content/pages/Login/Form/index.jsx",lineNumber:115,columnNumber:13},void 0),e.jsxDEV(B,{isOpen:v,duration:6e3,handleClose:D,type:h,text:j},void 0,!1,{fileName:"/Users/ricardo/Documents/Reto Innova/App-Puyango/src/content/pages/Login/Form/index.jsx",lineNumber:121,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/ricardo/Documents/Reto Innova/App-Puyango/src/content/pages/Login/Form/index.jsx",lineNumber:53,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/ricardo/Documents/Reto Innova/App-Puyango/src/content/pages/Login/Form/index.jsx",lineNumber:51,columnNumber:9},void 0)},Q=()=>(f(),e.jsxDEV(u,{sx:{display:"flex",height:"100vh"},children:[e.jsxDEV(R,{backgroundImage:"/img/background.jpg"},void 0,!1,{fileName:"/Users/ricardo/Documents/Reto Innova/App-Puyango/src/content/pages/Login/index.jsx",lineNumber:16,columnNumber:13},void 0),e.jsxDEV(W,{},void 0,!1,{fileName:"/Users/ricardo/Documents/Reto Innova/App-Puyango/src/content/pages/Login/index.jsx",lineNumber:17,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/ricardo/Documents/Reto Innova/App-Puyango/src/content/pages/Login/index.jsx",lineNumber:15,columnNumber:9},void 0));export{Q as default};
