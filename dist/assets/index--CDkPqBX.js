import{r as a,u as f,a as P,j as e,B as V,b as m,T as u,d as E}from"./index-FoqrW9jB.js";import{B as A}from"./index-iGBAAHT3.js";import{u as F,I as t,a as U,V as C,L as S,S as k}from"./useSnackbar-8TGwfSRJ.js";import{B as T}from"./index-Whb-GpAT.js";import{I as w}from"./IconButton-ghYDgOj1.js";import{V as B}from"./Visibility-6mA_l3Ag.js";import"./Paper--jNQ-MWV.js";const O=()=>{const[n,x]=a.useState({nombreCompleto:"",cedula:"",numTelefono:"",email:"",password:""}),[i,b]=a.useState(!1),l=f(),{data:o,error:c,loading:N,executeFetch:v}=P(),{isOpen:D,handleClose:j,handleOpen:d}=F(),[R,p]=a.useState(""),[y,g]=a.useState("success");a.useEffect(()=>{if(o&&o.code===200){p(o.message||"Registro exitoso. Por favor inicia sesión."),g("success"),d();const r=setTimeout(()=>{l("/login")},5e3);return()=>clearTimeout(r)}else o&&o.code!==200&&(p(c.message||"Ocurrió un error durante el registro."),g("error"),d())},[o,c,l]);const s=r=>{x({...n,[r.target.name]:r.target.value})},h=async r=>{r.preventDefault(),v({endPoint:"auth/register",method:"POST",data:n})},I=()=>{b(!i)};return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(V,{open:N},void 0,!1,{fileName:"/Users/ricardo/Documents/Reto Innova/App-Puyango/src/content/pages/Registro/Form/index.jsx",lineNumber:60,columnNumber:9},void 0),e.jsxDEV(m,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:4,borderRadius:1,maxWidth:400,margin:"auto"},children:[e.jsxDEV(u,{variant:"h2",component:"h1",gutterBottom:!0,children:"Registrarse"},void 0,!1,{fileName:"/Users/ricardo/Documents/Reto Innova/App-Puyango/src/content/pages/Registro/Form/index.jsx",lineNumber:73,columnNumber:13},void 0),e.jsxDEV(u,{variant:"subtitle1",gutterBottom:!0,children:"Agrega tu información a continuación"},void 0,!1,{fileName:"/Users/ricardo/Documents/Reto Innova/App-Puyango/src/content/pages/Registro/Form/index.jsx",lineNumber:76,columnNumber:13},void 0),e.jsxDEV(m,{component:"form",onSubmit:h,sx:{width:"100%",mt:1},children:[e.jsxDEV(t,{label:"Nombre Completo",type:"text",value:n.nombreCompleto,onChange:s,name:"nombreCompleto",margin:"normal",fullWidth:!0},void 0,!1,{fileName:"/Users/ricardo/Documents/Reto Innova/App-Puyango/src/content/pages/Registro/Form/index.jsx",lineNumber:84,columnNumber:17},void 0),e.jsxDEV(t,{label:"Cédula",type:"text",value:n.cedula,onChange:s,name:"cedula",margin:"normal",fullWidth:!0},void 0,!1,{fileName:"/Users/ricardo/Documents/Reto Innova/App-Puyango/src/content/pages/Registro/Form/index.jsx",lineNumber:93,columnNumber:17},void 0),e.jsxDEV(t,{label:"Número de Teléfono",type:"tel",value:n.numTelefono,onChange:s,name:"numTelefono",margin:"normal",fullWidth:!0},void 0,!1,{fileName:"/Users/ricardo/Documents/Reto Innova/App-Puyango/src/content/pages/Registro/Form/index.jsx",lineNumber:102,columnNumber:17},void 0),e.jsxDEV(t,{label:"Correo Electrónico",type:"email",value:n.email,onChange:s,name:"email",margin:"normal",fullWidth:!0},void 0,!1,{fileName:"/Users/ricardo/Documents/Reto Innova/App-Puyango/src/content/pages/Registro/Form/index.jsx",lineNumber:111,columnNumber:17},void 0),e.jsxDEV(t,{label:"Contraseña",type:i?"text":"password",value:n.password,onChange:s,name:"password",margin:"normal",fullWidth:!0,endAdornment:e.jsxDEV(U,{position:"end",children:e.jsxDEV(E,{title:i?"Ocultar Contraseña":"Mostrar contraseña",arrow:!0,children:e.jsxDEV(w,{"aria-label":"toggle password visibility",onClick:I,children:i?e.jsxDEV(C,{color:"primary"},void 0,!1,{fileName:"/Users/ricardo/Documents/Reto Innova/App-Puyango/src/content/pages/Registro/Form/index.jsx",lineNumber:135,columnNumber:49},void 0):e.jsxDEV(B,{color:"primary"},void 0,!1,{fileName:"/Users/ricardo/Documents/Reto Innova/App-Puyango/src/content/pages/Registro/Form/index.jsx",lineNumber:135,columnNumber:85},void 0)},void 0,!1,{fileName:"/Users/ricardo/Documents/Reto Innova/App-Puyango/src/content/pages/Registro/Form/index.jsx",lineNumber:131,columnNumber:29},void 0)},void 0,!1,{fileName:"/Users/ricardo/Documents/Reto Innova/App-Puyango/src/content/pages/Registro/Form/index.jsx",lineNumber:130,columnNumber:29},void 0)},void 0,!1,{fileName:"/Users/ricardo/Documents/Reto Innova/App-Puyango/src/content/pages/Registro/Form/index.jsx",lineNumber:129,columnNumber:25},void 0)},void 0,!1,{fileName:"/Users/ricardo/Documents/Reto Innova/App-Puyango/src/content/pages/Registro/Form/index.jsx",lineNumber:120,columnNumber:17},void 0),e.jsxDEV(T,{text:"Siguiente",type:"submit",color:"primary",variant:"contained",sx:{mt:3,mb:2,py:1},fullWidth:!0},void 0,!1,{fileName:"/Users/ricardo/Documents/Reto Innova/App-Puyango/src/content/pages/Registro/Form/index.jsx",lineNumber:141,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/ricardo/Documents/Reto Innova/App-Puyango/src/content/pages/Registro/Form/index.jsx",lineNumber:79,columnNumber:13},void 0),e.jsxDEV(u,{variant:"body2",children:["Ya tienes una cuenta? ",e.jsxDEV(S,{href:"/login",variant:"body2",children:"Ingresa aquí"},void 0,!1,{fileName:"/Users/ricardo/Documents/Reto Innova/App-Puyango/src/content/pages/Registro/Form/index.jsx",lineNumber:152,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/ricardo/Documents/Reto Innova/App-Puyango/src/content/pages/Registro/Form/index.jsx",lineNumber:150,columnNumber:13},void 0),e.jsxDEV(k,{isOpen:D,duration:6e3,handleClose:j,type:y,text:R},void 0,!1,{fileName:"/Users/ricardo/Documents/Reto Innova/App-Puyango/src/content/pages/Registro/Form/index.jsx",lineNumber:156,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/ricardo/Documents/Reto Innova/App-Puyango/src/content/pages/Registro/Form/index.jsx",lineNumber:61,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/ricardo/Documents/Reto Innova/App-Puyango/src/content/pages/Registro/Form/index.jsx",lineNumber:59,columnNumber:9},void 0)},H=()=>(f(),e.jsxDEV(m,{sx:{display:"flex",height:"100vh"},children:[e.jsxDEV(A,{backgroundImage:"/img/background.jpg"},void 0,!1,{fileName:"/Users/ricardo/Documents/Reto Innova/App-Puyango/src/content/pages/Registro/index.jsx",lineNumber:16,columnNumber:13},void 0),e.jsxDEV(O,{},void 0,!1,{fileName:"/Users/ricardo/Documents/Reto Innova/App-Puyango/src/content/pages/Registro/index.jsx",lineNumber:17,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/ricardo/Documents/Reto Innova/App-Puyango/src/content/pages/Registro/index.jsx",lineNumber:15,columnNumber:9},void 0));export{H as default};
