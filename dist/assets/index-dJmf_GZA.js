import{r as i,u as g,j as e,B as u,T as s}from"./index-A7ElaR5w.js";import{B as R}from"./index-oCiUrVCH.js";import{u as j,I as t,B as y,L as A,S as C}from"./useSnackbar-bymthZPy.js";import{u as v}from"./useFetchData-6Fz6vxxe.js";import"./requirePropFactory-KLdgVZlp.js";const T=()=>{const[n,f]=i.useState({nombreCompleto:"",cedula:"",numTelefono:"",email:"",password:""}),m=g(),{data:a,error:l,loading:P,executeFetch:x}=v(),{isOpen:b,handleClose:N,handleOpen:d}=j(),[h,c]=i.useState(""),[D,p]=i.useState("success");i.useEffect(()=>{if(a&&a.code===200){c(a.message||"Registro exitoso. Por favor inicia sesión."),p("success"),d();const o=setTimeout(()=>{m("/login")},5e3);return()=>clearTimeout(o)}else a&&a.code!==200&&(c(l.message||"Ocurrió un error durante el registro."),p("error"),d())},[a,l,m]);const r=o=>{f({...n,[o.target.name]:o.target.value})},E=async o=>{o.preventDefault(),x({endPoint:"auth/register",method:"POST",data:n})};return e.jsxDEV(u,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:4,borderRadius:1,maxWidth:400,margin:"auto"},children:[e.jsxDEV(s,{variant:"h2",component:"h1",gutterBottom:!0,children:"Registrarse"},void 0,!1,{fileName:"D:/REACT/App-Puyango/src/content/pages/Registro/Form/index.jsx",lineNumber:65,columnNumber:13},void 0),e.jsxDEV(s,{variant:"subtitle1",gutterBottom:!0,children:"Agrega tu información a continuación"},void 0,!1,{fileName:"D:/REACT/App-Puyango/src/content/pages/Registro/Form/index.jsx",lineNumber:68,columnNumber:13},void 0),e.jsxDEV(u,{component:"form",onSubmit:E,sx:{width:"100%",mt:1},children:[e.jsxDEV(t,{label:"Nombre Completo",type:"text",value:n.nombreCompleto,onChange:r,name:"nombreCompleto",margin:"normal",fullWidth:!0},void 0,!1,{fileName:"D:/REACT/App-Puyango/src/content/pages/Registro/Form/index.jsx",lineNumber:76,columnNumber:17},void 0),e.jsxDEV(t,{label:"Cédula",type:"text",value:n.cedula,onChange:r,name:"cedula",margin:"normal",fullWidth:!0},void 0,!1,{fileName:"D:/REACT/App-Puyango/src/content/pages/Registro/Form/index.jsx",lineNumber:85,columnNumber:17},void 0),e.jsxDEV(t,{label:"Número de Teléfono",type:"tel",value:n.numTelefono,onChange:r,name:"numTelefono",margin:"normal",fullWidth:!0},void 0,!1,{fileName:"D:/REACT/App-Puyango/src/content/pages/Registro/Form/index.jsx",lineNumber:94,columnNumber:17},void 0),e.jsxDEV(t,{label:"Correo Electrónico",type:"email",value:n.email,onChange:r,name:"email",margin:"normal",fullWidth:!0},void 0,!1,{fileName:"D:/REACT/App-Puyango/src/content/pages/Registro/Form/index.jsx",lineNumber:103,columnNumber:17},void 0),e.jsxDEV(t,{label:"Contraseña",type:"password",value:n.password,onChange:r,name:"password",margin:"normal",fullWidth:!0},void 0,!1,{fileName:"D:/REACT/App-Puyango/src/content/pages/Registro/Form/index.jsx",lineNumber:112,columnNumber:17},void 0),e.jsxDEV(y,{text:"Siguiente",type:"submit",color:"primary",variant:"contained",sx:{mt:3,mb:2,py:1},fullWidth:!0},void 0,!1,{fileName:"D:/REACT/App-Puyango/src/content/pages/Registro/Form/index.jsx",lineNumber:121,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/REACT/App-Puyango/src/content/pages/Registro/Form/index.jsx",lineNumber:71,columnNumber:13},void 0),e.jsxDEV(s,{variant:"body2",children:["Aún no tienes una cuenta? ",e.jsxDEV(A,{href:"/login",variant:"body2",children:"Ingresa aquí"},void 0,!1,{fileName:"D:/REACT/App-Puyango/src/content/pages/Registro/Form/index.jsx",lineNumber:132,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/REACT/App-Puyango/src/content/pages/Registro/Form/index.jsx",lineNumber:130,columnNumber:13},void 0),e.jsxDEV(C,{isOpen:b,duration:6e3,handleClose:N,type:D,text:h},void 0,!1,{fileName:"D:/REACT/App-Puyango/src/content/pages/Registro/Form/index.jsx",lineNumber:136,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/REACT/App-Puyango/src/content/pages/Registro/Form/index.jsx",lineNumber:53,columnNumber:9},void 0)},W=()=>(g(),e.jsxDEV(u,{sx:{display:"flex",height:"100vh"},children:[e.jsxDEV(R,{backgroundImage:"public/img/background.png"},void 0,!1,{fileName:"D:/REACT/App-Puyango/src/content/pages/Registro/index.jsx",lineNumber:16,columnNumber:13},void 0),e.jsxDEV(T,{},void 0,!1,{fileName:"D:/REACT/App-Puyango/src/content/pages/Registro/index.jsx",lineNumber:17,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/REACT/App-Puyango/src/content/pages/Registro/index.jsx",lineNumber:15,columnNumber:9},void 0));export{W as default};
