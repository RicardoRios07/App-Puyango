import{r as a,u as g,a as C,j as e,B as u,T as t,b as T,I as P,c as V}from"./index-LcRiL3e7.js";import{B as L}from"./index-LNyDaMcd.js";import{u as R,I as p,a as S,V as F,L as k,S as w}from"./useSnackbar-oeqlAkzK.js";import{B}from"./index-COlH-uag.js";import{V as O}from"./Visibility-0_XHQ3_N.js";import"./ownerWindow-Kh_Hhi6C.js";import"./requirePropFactory-J_m8rzpV.js";import"./unsupportedProp-P-rZrHSD.js";import"./Paper-jTn0Vj5X.js";const I=()=>{const[o,f]=a.useState({email:"",password:""}),[i,x]=a.useState(!1),l=g(),{data:n,error:r,loading:W,executeFetch:b}=C(),{setSession:m}=V(),{isOpen:N,handleClose:D,handleOpen:d}=R(),[y,E]=a.useState(""),[h,j]=a.useState("success");a.useEffect(()=>{n&&n.code===200?(console.log("TOKEN: ?================",n.data.token),m(n.data.token),l("/inicio")):r&&(E(r.message||"Ocurrió un error durante el registro."),j("error"),d())},[n,r,l,d,m]);const c=s=>{f({...o,[s.target.name]:s.target.value})},A=()=>{x(!i)},v=async s=>{s.preventDefault(),b({endPoint:"auth/login",method:"POST",data:o})};return e.jsxDEV(u,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:4,borderRadius:1,maxWidth:400,margin:"auto"},children:[e.jsxDEV(t,{variant:"h2",component:"h1",gutterBottom:!0,children:"Iniciar sesión"},void 0,!1,{fileName:"D:/REACT/App-Puyango/src/content/pages/Login/Form/index.jsx",lineNumber:60,columnNumber:13},void 0),e.jsxDEV(t,{variant:"subtitle1",gutterBottom:!0,children:"Agrega tu información a continuación"},void 0,!1,{fileName:"D:/REACT/App-Puyango/src/content/pages/Login/Form/index.jsx",lineNumber:63,columnNumber:13},void 0),e.jsxDEV(u,{component:"form",onSubmit:v,sx:{width:"100%",mt:1},children:[e.jsxDEV(p,{label:"Correo electrónico",type:"email",value:o.email,onChange:c,name:"email",margin:"normal",fullWidth:!0},void 0,!1,{fileName:"D:/REACT/App-Puyango/src/content/pages/Login/Form/index.jsx",lineNumber:71,columnNumber:17},void 0),e.jsxDEV(p,{label:"Contraseña",type:i?"text":"password",value:o.password,onChange:c,name:"password",margin:"normal",fullWidth:!0,endAdornment:e.jsxDEV(S,{position:"end",children:e.jsxDEV(T,{title:i?"Ocultar Contraseña":"Mostrar contraseña",arrow:!0,children:e.jsxDEV(P,{"aria-label":"toggle password visibility",onClick:A,children:i?e.jsxDEV(F,{color:"primary"},void 0,!1,{fileName:"D:/REACT/App-Puyango/src/content/pages/Login/Form/index.jsx",lineNumber:95,columnNumber:49},void 0):e.jsxDEV(O,{color:"primary"},void 0,!1,{fileName:"D:/REACT/App-Puyango/src/content/pages/Login/Form/index.jsx",lineNumber:95,columnNumber:85},void 0)},void 0,!1,{fileName:"D:/REACT/App-Puyango/src/content/pages/Login/Form/index.jsx",lineNumber:91,columnNumber:29},void 0)},void 0,!1,{fileName:"D:/REACT/App-Puyango/src/content/pages/Login/Form/index.jsx",lineNumber:90,columnNumber:29},void 0)},void 0,!1,{fileName:"D:/REACT/App-Puyango/src/content/pages/Login/Form/index.jsx",lineNumber:89,columnNumber:25},void 0)},void 0,!1,{fileName:"D:/REACT/App-Puyango/src/content/pages/Login/Form/index.jsx",lineNumber:80,columnNumber:17},void 0),e.jsxDEV(B,{text:"Siguiente",type:"submit",color:"primary",variant:"contained",sx:{mt:3,mb:2,py:1},fullWidth:!0},void 0,!1,{fileName:"D:/REACT/App-Puyango/src/content/pages/Login/Form/index.jsx",lineNumber:101,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/REACT/App-Puyango/src/content/pages/Login/Form/index.jsx",lineNumber:66,columnNumber:13},void 0),e.jsxDEV(t,{variant:"body2",children:["Si ya tienes una cuenta ",e.jsxDEV(k,{href:"/register",variant:"body2",children:"Ingresa aquí"},void 0,!1,{fileName:"D:/REACT/App-Puyango/src/content/pages/Login/Form/index.jsx",lineNumber:112,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/REACT/App-Puyango/src/content/pages/Login/Form/index.jsx",lineNumber:110,columnNumber:13},void 0),e.jsxDEV(w,{isOpen:N,duration:6e3,handleClose:D,type:h,text:y},void 0,!1,{fileName:"D:/REACT/App-Puyango/src/content/pages/Login/Form/index.jsx",lineNumber:116,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/REACT/App-Puyango/src/content/pages/Login/Form/index.jsx",lineNumber:48,columnNumber:9},void 0)},X=()=>(g(),e.jsxDEV(u,{sx:{display:"flex",height:"100vh"},children:[e.jsxDEV(L,{backgroundImage:"/img/background.png"},void 0,!1,{fileName:"D:/REACT/App-Puyango/src/content/pages/Login/index.jsx",lineNumber:16,columnNumber:13},void 0),e.jsxDEV(I,{},void 0,!1,{fileName:"D:/REACT/App-Puyango/src/content/pages/Login/index.jsx",lineNumber:17,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/REACT/App-Puyango/src/content/pages/Login/index.jsx",lineNumber:15,columnNumber:9},void 0));export{X as default};
