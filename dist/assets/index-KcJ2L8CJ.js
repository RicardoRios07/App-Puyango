import{r as n,u as g,a as A,c as E,j as e,B as L,b as u,T as t,d as F}from"./index-7Km-PRan.js";import{B as R}from"./index-mXJ10gey.js";import{u as U,I as p,a as S,V as k,L as w}from"./useSnackbar-Y5XMMB3T.js";import{B,S as C}from"./index-QwUhMf88.js";import{I as O}from"./IconButton-rtUzkGsW.js";import{V as T}from"./Visibility-dejb2C4I.js";import"./Paper-kA9Mee5j.js";const W=()=>{const[o,f]=n.useState({email:"",password:""}),[a,x]=n.useState(!1),c=g(),{data:r,error:i,loading:b,executeFetch:N}=A(),{setSession:m}=E(),{isOpen:v,handleClose:D,handleOpen:d}=U(),[j,y]=n.useState(""),[h,I]=n.useState("success");n.useEffect(()=>{r&&r.code===200?(m(r.data),c("/inicio")):i&&(y(i.message||"Ocurrió un error durante el inicio de sesión."),I("error"),d())},[r,i,c,d,m]);const l=s=>{f({...o,[s.target.name]:s.target.value})},P=()=>{x(!a)},V=async s=>{s.preventDefault(),N({endPoint:"auth/login",method:"POST",data:o})};return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(L,{open:b},void 0,!1,{fileName:"/Users/ricardo/Documents/Reto Innova/App-Puyango/src/content/pages/Login/Form/index.jsx",lineNumber:51,columnNumber:9},void 0),e.jsxDEV(u,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:4,borderRadius:1,maxWidth:400,margin:"auto"},children:[e.jsxDEV(t,{variant:"h2",component:"h1",gutterBottom:!0,children:"Iniciar sesión"},void 0,!1,{fileName:"/Users/ricardo/Documents/Reto Innova/App-Puyango/src/content/pages/Login/Form/index.jsx",lineNumber:64,columnNumber:13},void 0),e.jsxDEV(t,{variant:"subtitle1",gutterBottom:!0,children:"Agrega tu información a continuación"},void 0,!1,{fileName:"/Users/ricardo/Documents/Reto Innova/App-Puyango/src/content/pages/Login/Form/index.jsx",lineNumber:67,columnNumber:13},void 0),e.jsxDEV(u,{component:"form",onSubmit:V,sx:{width:"100%",mt:1},children:[e.jsxDEV(p,{label:"Correo electrónico",type:"email",value:o.email,onChange:l,name:"email",margin:"normal",fullWidth:!0},void 0,!1,{fileName:"/Users/ricardo/Documents/Reto Innova/App-Puyango/src/content/pages/Login/Form/index.jsx",lineNumber:75,columnNumber:17},void 0),e.jsxDEV(p,{label:"Contraseña",type:a?"text":"password",value:o.password,onChange:l,name:"password",margin:"normal",fullWidth:!0,endAdornment:e.jsxDEV(S,{position:"end",children:e.jsxDEV(F,{title:a?"Ocultar Contraseña":"Mostrar contraseña",arrow:!0,children:e.jsxDEV(O,{"aria-label":"toggle password visibility",onClick:P,children:a?e.jsxDEV(T,{color:"primary"},void 0,!1,{fileName:"/Users/ricardo/Documents/Reto Innova/App-Puyango/src/content/pages/Login/Form/index.jsx",lineNumber:99,columnNumber:49},void 0):e.jsxDEV(k,{color:"primary"},void 0,!1,{fileName:"/Users/ricardo/Documents/Reto Innova/App-Puyango/src/content/pages/Login/Form/index.jsx",lineNumber:99,columnNumber:82},void 0)},void 0,!1,{fileName:"/Users/ricardo/Documents/Reto Innova/App-Puyango/src/content/pages/Login/Form/index.jsx",lineNumber:95,columnNumber:29},void 0)},void 0,!1,{fileName:"/Users/ricardo/Documents/Reto Innova/App-Puyango/src/content/pages/Login/Form/index.jsx",lineNumber:94,columnNumber:29},void 0)},void 0,!1,{fileName:"/Users/ricardo/Documents/Reto Innova/App-Puyango/src/content/pages/Login/Form/index.jsx",lineNumber:93,columnNumber:25},void 0)},void 0,!1,{fileName:"/Users/ricardo/Documents/Reto Innova/App-Puyango/src/content/pages/Login/Form/index.jsx",lineNumber:84,columnNumber:17},void 0),e.jsxDEV(B,{text:"Siguiente",type:"submit",color:"primary",variant:"contained",sx:{mt:3,mb:2,py:1},fullWidth:!0},void 0,!1,{fileName:"/Users/ricardo/Documents/Reto Innova/App-Puyango/src/content/pages/Login/Form/index.jsx",lineNumber:105,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/ricardo/Documents/Reto Innova/App-Puyango/src/content/pages/Login/Form/index.jsx",lineNumber:70,columnNumber:13},void 0),e.jsxDEV(t,{variant:"body2",children:["Aún no tienes cuenta? ",e.jsxDEV(w,{href:"/register",variant:"body2",children:"Ingresa aquí"},void 0,!1,{fileName:"/Users/ricardo/Documents/Reto Innova/App-Puyango/src/content/pages/Login/Form/index.jsx",lineNumber:116,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/ricardo/Documents/Reto Innova/App-Puyango/src/content/pages/Login/Form/index.jsx",lineNumber:114,columnNumber:13},void 0),e.jsxDEV(C,{isOpen:v,duration:6e3,handleClose:D,type:h,text:j},void 0,!1,{fileName:"/Users/ricardo/Documents/Reto Innova/App-Puyango/src/content/pages/Login/Form/index.jsx",lineNumber:120,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/ricardo/Documents/Reto Innova/App-Puyango/src/content/pages/Login/Form/index.jsx",lineNumber:52,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/ricardo/Documents/Reto Innova/App-Puyango/src/content/pages/Login/Form/index.jsx",lineNumber:50,columnNumber:9},void 0)},Q=()=>(g(),e.jsxDEV(u,{sx:{display:"flex",height:"100vh"},children:[e.jsxDEV(R,{backgroundImage:"/img/background.jpg"},void 0,!1,{fileName:"/Users/ricardo/Documents/Reto Innova/App-Puyango/src/content/pages/Login/index.jsx",lineNumber:16,columnNumber:13},void 0),e.jsxDEV(W,{},void 0,!1,{fileName:"/Users/ricardo/Documents/Reto Innova/App-Puyango/src/content/pages/Login/index.jsx",lineNumber:17,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/ricardo/Documents/Reto Innova/App-Puyango/src/content/pages/Login/index.jsx",lineNumber:15,columnNumber:9},void 0));export{Q as default};
