import{r as i,u as f,a as j,j as e,B as l,T as u,b as C,I as v}from"./index-LcRiL3e7.js";import{B as T}from"./index-LNyDaMcd.js";import{u as P,I as s,a as V,V as F,L as S,S as k}from"./useSnackbar-oeqlAkzK.js";import{B as w}from"./index-COlH-uag.js";import{V as B}from"./Visibility-0_XHQ3_N.js";import"./ownerWindow-Kh_Hhi6C.js";import"./requirePropFactory-J_m8rzpV.js";import"./unsupportedProp-P-rZrHSD.js";import"./Paper-jTn0Vj5X.js";const O=()=>{const[n,x]=i.useState({nombreCompleto:"",cedula:"",numTelefono:"",email:"",password:""}),[t,b]=i.useState(!1),m=f(),{data:o,error:d,loading:I,executeFetch:N}=j(),{isOpen:D,handleClose:y,handleOpen:c}=P(),[A,p]=i.useState(""),[E,g]=i.useState("success");i.useEffect(()=>{if(o&&o.code===200){p(o.message||"Registro exitoso. Por favor inicia sesión."),g("success"),c();const a=setTimeout(()=>{m("/login")},5e3);return()=>clearTimeout(a)}else o&&o.code!==200&&(p(d.message||"Ocurrió un error durante el registro."),g("error"),c())},[o,d,m]);const r=a=>{x({...n,[a.target.name]:a.target.value})},R=async a=>{a.preventDefault(),N({endPoint:"auth/register",method:"POST",data:n})},h=()=>{b(!t)};return e.jsxDEV(l,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:4,borderRadius:1,maxWidth:400,margin:"auto"},children:[e.jsxDEV(u,{variant:"h2",component:"h1",gutterBottom:!0,children:"Registrarse"},void 0,!1,{fileName:"D:/REACT/App-Puyango/src/content/pages/Registro/Form/index.jsx",lineNumber:70,columnNumber:13},void 0),e.jsxDEV(u,{variant:"subtitle1",gutterBottom:!0,children:"Agrega tu información a continuación"},void 0,!1,{fileName:"D:/REACT/App-Puyango/src/content/pages/Registro/Form/index.jsx",lineNumber:73,columnNumber:13},void 0),e.jsxDEV(l,{component:"form",onSubmit:R,sx:{width:"100%",mt:1},children:[e.jsxDEV(s,{label:"Nombre Completo",type:"text",value:n.nombreCompleto,onChange:r,name:"nombreCompleto",margin:"normal",fullWidth:!0},void 0,!1,{fileName:"D:/REACT/App-Puyango/src/content/pages/Registro/Form/index.jsx",lineNumber:81,columnNumber:17},void 0),e.jsxDEV(s,{label:"Cédula",type:"text",value:n.cedula,onChange:r,name:"cedula",margin:"normal",fullWidth:!0},void 0,!1,{fileName:"D:/REACT/App-Puyango/src/content/pages/Registro/Form/index.jsx",lineNumber:90,columnNumber:17},void 0),e.jsxDEV(s,{label:"Número de Teléfono",type:"tel",value:n.numTelefono,onChange:r,name:"numTelefono",margin:"normal",fullWidth:!0},void 0,!1,{fileName:"D:/REACT/App-Puyango/src/content/pages/Registro/Form/index.jsx",lineNumber:99,columnNumber:17},void 0),e.jsxDEV(s,{label:"Correo Electrónico",type:"email",value:n.email,onChange:r,name:"email",margin:"normal",fullWidth:!0},void 0,!1,{fileName:"D:/REACT/App-Puyango/src/content/pages/Registro/Form/index.jsx",lineNumber:108,columnNumber:17},void 0),e.jsxDEV(s,{label:"Contraseña",type:t?"text":"password",value:n.password,onChange:r,name:"password",margin:"normal",fullWidth:!0,endAdornment:e.jsxDEV(V,{position:"end",children:e.jsxDEV(C,{title:t?"Ocultar Contraseña":"Mostrar contraseña",arrow:!0,children:e.jsxDEV(v,{"aria-label":"toggle password visibility",onClick:h,children:t?e.jsxDEV(F,{color:"primary"},void 0,!1,{fileName:"D:/REACT/App-Puyango/src/content/pages/Registro/Form/index.jsx",lineNumber:132,columnNumber:49},void 0):e.jsxDEV(B,{color:"primary"},void 0,!1,{fileName:"D:/REACT/App-Puyango/src/content/pages/Registro/Form/index.jsx",lineNumber:132,columnNumber:85},void 0)},void 0,!1,{fileName:"D:/REACT/App-Puyango/src/content/pages/Registro/Form/index.jsx",lineNumber:128,columnNumber:29},void 0)},void 0,!1,{fileName:"D:/REACT/App-Puyango/src/content/pages/Registro/Form/index.jsx",lineNumber:127,columnNumber:29},void 0)},void 0,!1,{fileName:"D:/REACT/App-Puyango/src/content/pages/Registro/Form/index.jsx",lineNumber:126,columnNumber:25},void 0)},void 0,!1,{fileName:"D:/REACT/App-Puyango/src/content/pages/Registro/Form/index.jsx",lineNumber:117,columnNumber:17},void 0),e.jsxDEV(w,{text:"Siguiente",type:"submit",color:"primary",variant:"contained",sx:{mt:3,mb:2,py:1},fullWidth:!0},void 0,!1,{fileName:"D:/REACT/App-Puyango/src/content/pages/Registro/Form/index.jsx",lineNumber:138,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/REACT/App-Puyango/src/content/pages/Registro/Form/index.jsx",lineNumber:76,columnNumber:13},void 0),e.jsxDEV(u,{variant:"body2",children:["Aún no tienes una cuenta? ",e.jsxDEV(S,{href:"/login",variant:"body2",children:"Ingresa aquí"},void 0,!1,{fileName:"D:/REACT/App-Puyango/src/content/pages/Registro/Form/index.jsx",lineNumber:149,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/REACT/App-Puyango/src/content/pages/Registro/Form/index.jsx",lineNumber:147,columnNumber:13},void 0),e.jsxDEV(k,{isOpen:D,duration:6e3,handleClose:y,type:E,text:A},void 0,!1,{fileName:"D:/REACT/App-Puyango/src/content/pages/Registro/Form/index.jsx",lineNumber:153,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/REACT/App-Puyango/src/content/pages/Registro/Form/index.jsx",lineNumber:58,columnNumber:9},void 0)},Q=()=>(f(),e.jsxDEV(l,{sx:{display:"flex",height:"100vh"},children:[e.jsxDEV(T,{backgroundImage:"/img/background.png"},void 0,!1,{fileName:"D:/REACT/App-Puyango/src/content/pages/Registro/index.jsx",lineNumber:16,columnNumber:13},void 0),e.jsxDEV(O,{},void 0,!1,{fileName:"D:/REACT/App-Puyango/src/content/pages/Registro/index.jsx",lineNumber:17,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/REACT/App-Puyango/src/content/pages/Registro/index.jsx",lineNumber:15,columnNumber:9},void 0));export{Q as default};
